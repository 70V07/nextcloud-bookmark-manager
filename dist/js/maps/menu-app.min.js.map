{"version":3,"names":[],"mappings":"","sources":["menu-app.js"],"sourcesContent":["'use strict'\n\nconst {\n\tapp,\n\tMenu,\n\tshell\n} = require( 'electron' )\n\nconst path \t\t\t= require('path')\nconst name \t\t\t= app.name\nconst log\t\t\t= require( 'electron-log' )\n\nconst about \t\t= require('./about.min')\nconst favicons  \t= require('./favicons.min')\n\n\n\nmodule.exports.menuApp = function () {\n\t\n\tconst i18n = require('./i18n.min')\n\t\n\tconst template = [\n\t\t{\n\t\t\tlabel: name,\n\t\t\tsubmenu: [\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:app.name', 'About {{name}}', { name: name }),\n\t\t\t\t\tclick() { about.createAbout() }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:app.login', 'Log in/out to Nextcloud…'),\n\t\t\t\t\taccelerator: 'Command+Ctrl+Alt+l',\n\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('open-login', 'open-login') }\n\t\t\t\t\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trole: 'services',\n\t\t\t\t\tsubmenu: []\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trole: 'hide'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trole: 'hideothers'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trole: 'unhide'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:app.quit', 'Quit {{name}}', { name: name }),\n\t\t\t\t\taccelerator: 'Command+q',\n\t\t\t\t\tclick () { app.emit('quit-app') }\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: i18n.t('menu:bookmarks.bookmarks', 'Bookmarks'),\n\t\t\tsubmenu:\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:bookmarks.new', 'Add New Bookmark…'),\n\t\t\t\t\taccelerator: 'Command+N',\n\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('add-bookmark', 'add-bookmark') }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:bookmarks.edit', 'Edit Bookmark…'),\n\t\t\t\t\taccelerator: 'Command+E',\n\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('edit-bookmark', 'edit-bookmark') }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:bookmarks.delete', 'Delete Bookmark…'),\n\t\t\t\t\taccelerator: 'Command+D',\n\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('delete-bookmark', 'delete-bookmark') }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:bookmarks.newfolder', 'New Folder…'),\n\t\t\t\t\taccelerator: 'Command+Alt+N',\n\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('new-folder', 'new-folder') }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:bookmarks.sync', 'Sync all Bookmarks'),\n\t\t\t\t\taccelerator: 'Cmd+R',\n\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('refresh-bookmarks', 'refresh-bookmarks') }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:bookmarks.favicons', 'Regenerate Favicons'),\n\t\t\t\t\tclick ( item, focusedWindow ) { favicons.regenerate( focusedWindow.id ) }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:bookmarks.export', 'Export Bookmarks File…'),\n\t\t\t\t\taccelerator: 'Command+Alt+E',\n\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('export-bookmarks', 'export-bookmarks') }\n\t\t\t\t}\n\t\t\t]  \n\t\t},\n\t\t{\n\t\t\tlabel: i18n.t('menu:edit.edit', 'Edit'),\n\t\t\tsubmenu: [\n\t\t\t\t{\n\t\t\t\t\trole: 'undo'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trole: 'redo'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trole: 'cut'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trole: 'copy'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trole: 'paste'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trole: 'delete'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trole: 'selectall'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:edit.find', 'Find…'),\n\t\t\t\t\taccelerator: 'Command+F',\n\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('find', 'find') }\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: i18n.t('menu:view.view', 'View'),\n\t\t\tsubmenu:\n\t\t\t[\n\t\t\t\t/*\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Toggle Developer Tools',\n\t\t\t\t\taccelerator: process.platform === 'darwin' ? 'Alt+Command+I' : 'Ctrl+Shift+I',\n\t\t\t\t\tclick (item, focusedWindow) {\n\t\t\t\t\t\tif (focusedWindow) focusedWindow.webContents.toggleDevTools()\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t*/\n\t\t\t\t{\n\t\t\t\t\trole: 'resetzoom'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trole: 'zoomin'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trole: 'zoomout'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trole: 'togglefullscreen'\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: i18n.t('menu:window.window', 'Window'),\n\t\t\trole: 'window',\n\t\t\tsubmenu:\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:window.close', 'Close'),\n\t\t\t\t\taccelerator: 'CmdOrCtrl+W',\n\t\t\t\t\trole: 'close'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:window.minimize', 'Minimize'),\n\t\t\t\t\taccelerator: 'CmdOrCtrl+M',\n\t\t\t\t\trole: 'minimize'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:window.zoom', 'Zoom'),\n\t\t\t\t\trole: 'zoom'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:window.front', 'Bring All to Front'),\n\t\t\t\t\trole: 'front'\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: i18n.t('menu:help.help', 'Help'),\n\t\t\trole: 'help',\n\t\t\tsubmenu:\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:help.homepage', 'Nextcloud Bookmark Manager Homepage'),\n\t\t\t\t\tclick () { require('electron').shell.openExternal('https://www.midwinter-dg.com/mac-apps/nextcloud-bookmark-manager.html?app') }\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n\t\t\n\t\n\tconst menu = Menu.buildFromTemplate(template)\n\tMenu.setApplicationMenu(menu)\n}\n"],"file":"../menu-app.min.js"}