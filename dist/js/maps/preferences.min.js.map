{"version":3,"sources":["preferences.js"],"names":["remote","require","ipc","ipcRenderer","Store","store","$","server","get","username","password","updatePrefs","val","set","send","closeModal","getCurrentWindow","close","document","ready","click","submit","e","preventDefault"],"mappings":"AAAA,aAEA,MAAMA,OAASC,QAAS,YAAaD,OAC/BE,IAAMD,QAAS,YAAaE,YAE5BC,MAAQH,QAAS,kBACjBI,MAAQ,IAAID,MAEZE,EAAIL,QAAS,UAMZM,OAAWF,MAAMG,IAAK,2BAC3BC,SAAYJ,MAAMG,IAAK,6BACvBE,SAAYL,MAAMG,IAAK,6BAUzB,SAASG,cAER,MAAOJ,EAASD,EAAE,wBAAwBM,MACxCH,EAAWH,EAAE,0BAA0BM,MACvCF,EAAWJ,EAAE,0BAA0BM,MAEzCP,MAAMQ,IAAI,oBAETN,OAAQA,EACRE,SAAUA,EACVC,SAAUA,IAGXR,IAAIY,KAAK,SAAU,UACnBC,aAOD,SAASA,aAEMf,OAAOgB,mBACfC,QAhCHV,QAAWD,EAAE,wBAAwBM,IAAKL,QAC1CE,UAAaH,EAAE,0BAA0BM,IAAKH,UAC9CC,UAAaJ,EAAE,0BAA0BM,IAAKF,UAmClDJ,EAAEY,UAAUC,MAAM,WAIjBb,EAAE,WAAWc,MAAO,WAELpB,OAAOgB,mBACfC,UAMPX,EAAE,eAAee,OAAQ,SAAUC,GAElCA,EAAEC,iBACFZ","file":"../preferences.min.js","sourcesContent":["'use strict'\n\nconst remote = require( 'electron' ).remote\nconst ipc = require( 'electron' ).ipcRenderer\n\nconst Store = require( 'electron-store' )\nconst store = new Store()\n\nconst $ = require( 'jquery' )\n\n\n\n//note(@duncanmid): get login credentials\n\nconst \tserver \t\t= store.get( 'loginCredentials.server' ),\n\t\tusername \t= store.get( 'loginCredentials.username' ),\n\t\tpassword \t= store.get( 'loginCredentials.password' )\n\nif( server ) { $('input[name=\"server\"]').val( server ) }\nif( username ) { $('input[name=\"username\"]').val( username ) }\nif( password ) { $('input[name=\"password\"]').val( password ) }\n\n\n\n//note(@duncanmid): set prefs function\n\nfunction updatePrefs() {\n\t\n\tconst \tserver = $('input[name=\"server\"]').val(),\n\t\t\tusername = $('input[name=\"username\"]').val(),\n\t\t\tpassword = $('input[name=\"password\"]').val()\n\t\n\tstore.set('loginCredentials', {\n\t\t\n\t\tserver: server,\n\t\tusername: username,\n\t\tpassword: password\n\t})\n\t\n\tipc.send('reload', 'reload')\n\tcloseModal()\n}\n\n\n\n//note(@duncanmid): close modal\n\nfunction closeModal() {\n\t\n\tconst modal = remote.getCurrentWindow()\n\tmodal.close()\n}\n\n\n\n$(document).ready(function() {\t\n\t\n\t//note(@duncanmid): cancel modal\n\t\n\t$('#cancel').click( function() {\n\t\t\n\t\tconst modal = remote.getCurrentWindow()\n\t\tmodal.close()\n\t})\n\t\n\t\n\t//note(@duncanmid): update data\n\t\n\t$('#modal-form').submit( function( e ) {\n\t\t\n\t\te.preventDefault()\n\t\tupdatePrefs()\t\n\t})\n})\n"]}